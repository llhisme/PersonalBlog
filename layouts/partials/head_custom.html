<!--
If you want to include any custom html just before </head>, put it in this file.
Or you can delete these file if you don't need it.
-->
<!-- for example, you could insert this custom css, which makes the bigimg not stretch:
<style>
.intro-header.big-img, .intro-header.big-img  .big-img-transition {
  -webkit-background-size: contain !important;
  -moz-background-size: contain !important;
  background-size: contain !important;
  -o-background-size: contain !important;
  background-color: lightgrey;
}
</style>
-->
<!-- or you could include some additional css libraries:
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.19.1/vis.css" integrity="sha256-I1UoFd33KHIydu88R9owFaQWzwkiZV4hXXug5aYaM28=" crossorigin="anonymous" />
-->
<style>
  /* 1. Táº¯t cháº¿ Ä‘á»™ tá»± Ä‘á»™ng cá»§a theme */
  @media (prefers-color-scheme: dark) {
    body {
      filter: none !important;
    }
    img, .highlight, .navbar, .img-logo, pre, code {
      filter: none !important;
    }
  }

  /* 2. Äá»‹nh nghÄ©a lá»›p .user-dark-mode cá»§a riÃªng ta */
  /* ÄÃ¢y lÃ  lá»›p mÃ  JavaScript sáº½ báº­t/táº¯t */
  body.user-dark-mode {
    background-color: #2b2b2b; /* ThÃªm mÃ u ná»n tá»‘i */
    filter: invert(1);
  }
  
  /* 3. Äáº£o ngÆ°á»£c láº¡i cÃ¡c thÃ nh pháº§n bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi filter */
  body.user-dark-mode img,
  body.user-dark-mode .highlight,
  body.user-dark-mode .navbar,
  body.user-dark-mode .img-logo,
  body.user-dark-mode pre,
  body.user-dark-mode code,
  body.user-dark-mode #theme-toggle-button { /* Äáº£o ngÆ°á»£c cáº£ nÃºt báº¥m */
    filter: invert(1);
  }

  /* 4. Tinh chá»‰nh láº¡i mÃ u sáº¯c cho dá»… Ä‘á»c hÆ¡n trong dark-mode */
  body.user-dark-mode .navbar {
    background-color: #f5f5f5; /* MÃ u ná»n navbar khi bá»‹ Ä‘áº£o ngÆ°á»£c */
  }
  body.user-dark-mode a {
    color: #428bca; /* Giá»¯ mÃ u link xanh */
  }

  /* 5. CSS cho nÃºt báº¥m Toggle */
  #theme-toggle-button {
    position: fixed;
    bottom: 15px;
    right: 15px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: #fff;
    color: #333;
    border: 1px solid #ddd;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    font-size: 24px;
    cursor: pointer;
    z-index: 999;
    /* CÄƒn giá»¯a icon */
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.3s, color 0.3s;
  }
</style>

<script>
  // Cháº¡y script sau khi trang Ä‘Ã£ táº£i xong
  document.addEventListener('DOMContentLoaded', function() {
    
    var body = document.body;
    var storageKey = 'theme-preference';
    
    // 1. Táº¡o nÃºt báº¥m báº±ng JavaScript
    var button = document.createElement('button');
    button.id = 'theme-toggle-button';
    // ThÃªm nÃºt báº¥m vÃ o cuá»‘i trang
    document.body.appendChild(button);

    // 2. HÃ m Ä‘á»ƒ Ã¡p dá»¥ng theme
    function applyTheme(theme) {
      if (theme === 'dark') {
        body.classList.add('user-dark-mode');
        button.innerHTML = 'â˜€ï¸'; // Icon máº·t trá»i
        localStorage.setItem(storageKey, 'dark');
      } else {
        body.classList.remove('user-dark-mode');
        button.innerHTML = 'ğŸŒ™'; // Icon máº·t trÄƒng
        localStorage.setItem(storageKey, 'light');
      }
    }

    // 3. Láº¥y theme Ä‘Ã£ lÆ°u tá»« localStorage (hoáº·c máº·c Ä‘á»‹nh lÃ  'light')
    var savedTheme = localStorage.getItem(storageKey) || 'light';
    
    // 4. Ãp dá»¥ng theme khi táº£i trang
    applyTheme(savedTheme);

    // 5. ThÃªm sá»± kiá»‡n click cho nÃºt báº¥m
    button.addEventListener('click', function() {
      // Kiá»ƒm tra xem hiá»‡n táº¡i Ä‘ang lÃ  theme gÃ¬
      var currentTheme = body.classList.contains('user-dark-mode') ? 'dark' : 'light';
      // Chuyá»ƒn Ä‘á»•i theme
      var newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      applyTheme(newTheme);
    });

  });
</script>